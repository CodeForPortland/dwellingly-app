{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sarah\\\\Documents\\\\Code For PDX\\\\Dwelling JOIN\\\\dwellingly-app\\\\dwellingly\\\\src\\\\Auth.js\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport * as axios from 'axios';\nimport { UserContext } from './App';\nexport const auth = {\n  isAuthenticated: false,\n\n  async authenticate(username, password) {\n    return axios.post('http://localhost:5000/login', {\n      username: username,\n      password: password\n    }).then(response => {\n      if (response) {\n        this.isAuthenticated = true;\n        console.log(\"Successfully logged in.\");\n        return response;\n      }\n    }).catch(error => {\n      alert(\"Failure signing in\");\n      return Promise.reject(error);\n    });\n  },\n\n  async signout() {\n    return new Promise((resolve, reject) => {\n      this.resolve();\n    }).then(response => {\n      this.isAuthenticated = false;\n      console.log(\"Successfully logged out.\");\n      return Promise.resolve(response);\n    }).catch(error => {\n      alert(\"Failure signing out\");\n      return Promise.reject(error);\n    });\n  }\n\n};\nexport const PrivateRoute = ({\n  component: Component,\n  ...rest\n}) =>\n/*#__PURE__*/\nReact.createElement(UserContext.Consumer, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }\n}, context => {\n  return (\n    /*#__PURE__*/\n    React.createElement(Route, Object.assign({}, rest, {\n      render: props => context.user.isAuthenticated ?\n      /*#__PURE__*/\n      React.createElement(Component, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      })) :\n      /*#__PURE__*/\n      React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }\n    }))\n  );\n});","map":{"version":3,"sources":["C:/Users/Sarah/Documents/Code For PDX/Dwelling JOIN/dwellingly-app/dwellingly/src/Auth.js"],"names":["React","Route","Redirect","axios","UserContext","auth","isAuthenticated","authenticate","username","password","post","then","response","console","log","catch","error","alert","Promise","reject","signout","resolve","PrivateRoute","component","Component","rest","context","props","user"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,OAA5B;AAEA,OAAO,MAAMC,IAAI,GAAG;AAClBC,EAAAA,eAAe,EAAE,KADC;;AAElB,QAAMC,YAAN,CAAmBC,QAAnB,EAA6BC,QAA7B,EAAuC;AACrC,WAAON,KAAK,CAACO,IAAN,CAAW,6BAAX,EAA0C;AAC/CF,MAAAA,QAAQ,EAAEA,QADqC;AAE/CC,MAAAA,QAAQ,EAAEA;AAFqC,KAA1C,EAIJE,IAJI,CAIEC,QAAD,IAAc;AAClB,UAAGA,QAAH,EAAY;AACV,aAAKN,eAAL,GAAuB,IAAvB;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,eAAOF,QAAP;AACD;AACF,KAVI,EAWJG,KAXI,CAWGC,KAAD,IAAW;AAChBC,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACD,KAdI,CAAP;AAeD,GAlBiB;;AAmBlB,QAAMI,OAAN,GAAgB;AACd,WAAO,IAAIF,OAAJ,CAAY,CAACG,OAAD,EAAUF,MAAV,KAAqB;AACtC,WAAKE,OAAL;AACD,KAFM,EAGJV,IAHI,CAGEC,QAAD,IAAc;AAClB,WAAKN,eAAL,GAAuB,KAAvB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,aAAOI,OAAO,CAACG,OAAR,CAAgBT,QAAhB,CAAP;AACD,KAPI,EAQJG,KARI,CAQGC,KAAD,IAAW;AAChBC,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACD,KAXI,CAAP;AAYD;;AAhCiB,CAAb;AAmCP,OAAO,MAAMM,YAAY,GAAG,CAAC;AAAEC,EAAAA,SAAS,EAAEC,SAAb;AAAwB,KAAGC;AAA3B,CAAD;AAAA;AAC1B,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACIC,OAAO,IAAI;AACX;AAAA;AAAO,wBAAC,KAAD,oBAAWD,IAAX;AAAiB,MAAA,MAAM,EAAGE,KAAD,IAC9BD,OAAO,CAACE,IAAR,CAAatB,eAAb;AAAA;AACI,0BAAC,SAAD,oBAAeqB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AAAA;AAEI,0BAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAP;AAKD,CAPH,CADK","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport * as axios from 'axios';\r\nimport { UserContext } from './App';\r\n\r\nexport const auth = {\r\n  isAuthenticated: false,\r\n  async authenticate(username, password) {\r\n    return axios.post('http://localhost:5000/login', {\r\n      username: username,\r\n      password: password\r\n    })\r\n      .then((response) => {\r\n        if(response){\r\n          this.isAuthenticated = true;\r\n          console.log(\"Successfully logged in.\");\r\n          return response;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Failure signing in\");\r\n        return Promise.reject(error);\r\n      });\r\n  },\r\n  async signout() {\r\n    return new Promise((resolve, reject) => {\r\n      this.resolve();\r\n    })\r\n      .then((response) => {\r\n        this.isAuthenticated = false;\r\n        console.log(\"Successfully logged out.\");\r\n        return Promise.resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Failure signing out\");\r\n        return Promise.reject(error);\r\n      })\r\n  }\r\n}\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <UserContext.Consumer>\r\n    { context => {\r\n      return <Route {...rest} render={(props) => (\r\n        context.user.isAuthenticated\r\n          ? <Component {...props} />\r\n          : <Redirect to='/login' />\r\n      )} />\r\n    }}\r\n  </UserContext.Consumer>\r\n)"]},"metadata":{},"sourceType":"module"}